<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Secrets are used all the time in data analyses to access data yet still allow automation.
  It becomes easier for others to use your existing code if you can specify how you expect the
  needed secrets to be stored and available to the script. This package aims to add that.">
<title>A simple collection of tools to check for secrets stored as specified in a yaml file • abKeyringR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A simple collection of tools to check for secrets stored as specified in a yaml file">
<meta property="og:description" content="Secrets are used all the time in data analyses to access data yet still allow automation.
  It becomes easier for others to use your existing code if you can specify how you expect the
  needed secrets to be stored and available to the script. This package aims to add that.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">abKeyringR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Templating.html">Checking Keyrings</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/code-convenience-and-ideas/abKeyringR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="abkeyringr">abKeyringR<a class="anchor" aria-label="anchor" href="#abkeyringr"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of abKeyringR is to create a few simple tools which capture required keyring entries for a project and give some guidance to building them.</p>
<p>This should save time and help interoperability across teams for analysis scripts which depend on “secrets”.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of abKeyringR like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># You can install thhis package directly from github</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/code-convenience-and-ideas/abKeyringR.git"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/code-convenience-and-ideas/abKeyringR" class="external-link">abKeyringR</a></span><span class="op">)</span></span>
<span><span class="co"># Load an example yaml kept with the package</span></span>
<span><span class="va">local_folder_yaml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"example_keyring_entries.yaml"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"abKeyringR"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">default_email_parser</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"hello"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">loaded_keyring_entries</span> <span class="op">&lt;-</span> <span class="fu">abKeyringR</span><span class="fu">::</span><span class="fu"><a href="reference/load_keyring_yaml.html">load_keyring_yaml</a></span><span class="op">(</span></span>
<span>  <span class="va">local_folder_yaml</span>, <span class="va">default_email_parser</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pull out the datasets from the yaml as a dataframe</span></span>
<span><span class="va">keyring_entry_df</span> <span class="op">&lt;-</span> <span class="fu">abKeyringR</span><span class="fu">::</span><span class="fu"><a href="reference/keyring_yaml_to_df.html">keyring_yaml_to_df</a></span><span class="op">(</span><span class="va">loaded_keyring_entries</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check whether the entries exist in the system and give a warning if not</span></span>
<span><span class="va">resulting_missing_entries</span> <span class="op">&lt;-</span> <span class="va">keyring_entry_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Add a column for presence of entries first</span></span>
<span>  <span class="fu">abKeyringR</span><span class="fu">::</span><span class="fu"><a href="reference/check_table_entries_available.html">check_table_entries_available</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Filter to only missing entry and return + raise warning for missing</span></span>
<span>  <span class="fu">abKeyringR</span><span class="fu">::</span><span class="fu"><a href="reference/raise_missing_entry_message.html">raise_missing_entry_message</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Got an error trying to get keyring entry. Will return FALSE</span></span>
<span><span class="co">#&gt; Got an error trying to get keyring entry. Will return FALSE</span></span>
<span><span class="co">#&gt; Got an error trying to get keyring entry. Will return FALSE</span></span>
<span><span class="co">#&gt; Warning in abKeyringR::raise_missing_entry_message(abKeyringR::check_table_entries_available(keyring_entry_df)): Entry secret_one not found. Please set it up appropriately.</span></span>
<span><span class="co">#&gt; Service: test, implied username: AlexCustomEnding.</span></span>
<span><span class="co">#&gt; Comment from docs: Note, should match your username and password for the service x.</span></span>
<span><span class="co">#&gt; Warning in abKeyringR::raise_missing_entry_message(abKeyringR::check_table_entries_available(keyring_entry_df)): Entry secret_two not found. Please set it up appropriately.</span></span>
<span><span class="co">#&gt; Service: test, implied username: hello@company.com.</span></span>
<span><span class="co">#&gt; Comment from docs: Note, you should have set up an SSHKEY for this service.</span></span>
<span><span class="co">#&gt; Warning in abKeyringR::raise_missing_entry_message(abKeyringR::check_table_entries_available(keyring_entry_df)): Entry secret_three not found. Please set it up appropriately.</span></span>
<span><span class="co">#&gt; Service: test, implied username: harcoded_user.</span></span>
<span><span class="co">#&gt; Comment from docs: You should go the the service and process an appropriate access token.</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/code-convenience-and-ideas/abKeyringR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/code-convenience-and-ideas/abKeyringR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing abKeyringR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alex Baker <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0009-0004-2844-9720" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/code-convenience-and-ideas/abKeyringR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/code-convenience-and-ideas/abKeyringR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/code-convenience-and-ideas/abKeyringR?branch=main" class="external-link"><img src="https://codecov.io/gh/code-convenience-and-ideas/abKeyringR/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alex Baker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
